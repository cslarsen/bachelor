\documentclass[a4paper,twoside]{report}
\input{preamble}
\begin{document}

  \author{Christian Stigen Larsen}
  \date{\today}
  \title{\textsf{Distributed Switch-level Message Ordering for Replicated
    Services}}

  \maketitle
  \input{abstract}
  \input{acknowledgments}

  \listoftodos % TODO: Remove when finished
  \listoftables
  \listoffigures
  \listofalgorithms\addcontentsline{toc}{chapter}{List of Algorithms}
  \lstlistoflistings\addcontentsline{toc}{chapter}{Listings}

  \tableofcontents

  % Should be after ToC, according to University rules
  \input{acronyms}

  \input{introduction}
  \input{theory}
  \input{design}
  \input{implementation}
  \input{analysis}
  \input{results}
  \input{improvements}
  \input{conclusion}

  % Bibliography should come before appendix
  %
  % Add unused citations here to make them appear in the bibliography.
  % A wildcard prints out all references.
  %\nocite{*}
  %
  % These must be on ONE line without spaces
  \bibliography{bibliography/mininet,bibliography/networking,bibliography/openflow,bibliography/paxos,bibliography/sdn,bibliography/software,bibliography/source-code,bibliography/books}
  \bibliographystyle{plain}

  \appendix
    \input{appendix-mininet}

  % Because of hyperref/makeidx/toc bug, we have to insert anchors
  % ourselves here.  See
  % http://tex.stackexchange.com/questions/138903/wrong-hyperref-for-index-in-tableofcontents-since-texlive-2010
  %
  \clearpage % may not be needed with imakeidx
  \phantomsection % may not be needed with imakeidx
  % Also add to ToC
  \addcontentsline{toc}{chapter}{Index}
  \printindex
  \input{colophon}
\end{document}
